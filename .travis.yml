language: java
branches:
  only:
  - master
  - develop
before_install:
- chmod +x gradlew
install: true
cache:
  directories:
  - $HOME/.gradle/caches/
  - $HOME/.gradle/wrapper/
script:
- git clone -b master https://github.com/nablarch/nablarch-ci-script.git $HOME/build-script/
  && chmod +x $HOME/build-script/travis-ci/*.sh
- $HOME/build-script/travis-ci/install-oracle-jdk6.sh
- $HOME/build-script/travis-ci/nablarch-build.sh
- $HOME/build-script/travis-ci/upload-test-report.sh
before_cache:
- rm -f $HOME/.gradle/caches/modules-2/modules-2.lock
notifications:
  slack:
    secure: bDtVRaUfrsoXWk3ezElk68EzKyQplpRvEIrF2NNVypz1WCSo2tIU83Jb1laWTlcmt3f0Bf9hEMg3qBzE9t7RpED7Yx1PkregNJEIaI58U55w+RG/gIwNTl0jGlry9MOjzhDFoTEQiNCSPomAoK6bbRik+N17ZwVS2XG9bXISzsDRrnGx9Bn9tbH4ExJ/OXfA09AMEXyfV8vDPzt3fS9d1pUBnfKp2+Z82zr78ntHx2Tgo2bUIg2M1VLEzIcndNmixRdpBMPOrLg3/mkttavb4kBarBkUv8K2hUq2/m1jCjQAg4k2/zExrOcW/l+HMqIOuRuO9tWxZnglmrx5sUFgmnMp77SmNGkCCwUHwkrFS6L/PQKzGBnjJSPKtvgUYXKCRHHyQBNp2yGiW4pFo8fn6dT6vDqgjsk9S+YdNjw2z3+PO/tNV+gyJTel9mCdlMrw3w/ace+Am5Yn2Fff+GX6dFRo/u07/tMo1G2VC7CRrj6nusFscCjSKBcT3U1b21OSe80tk7xRvXUKnKYAG6s6Lo1uVaxJ73kxeas+GGCJZhjciLntEMAy/i8m95oqq3OnmwgPvPLaKnVkOS8PrguIGGW8rXaEKFydFoqZtQxrrkcZ6xvEvyUC/tw1EsIgR8Ef7H6jQlKzeElCVeu2/cRPLvZuOIfsvCHPR4T/CbUTnI4=
